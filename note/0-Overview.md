## 总览

### 基本概念

- **分布式：**不同模块部署在不同服务器上 
  作用：分布式解决网站高并发带来问题

- **集群：**多台服务器部署相同应用构成一个集群 
  作用：通过负载均衡设备共同对外提供服务

- **微服务：**架构设计概念,各服务间隔离（分布式也是隔离）,自治（分布式依赖整体组合）其它特性(单一职责,边界,异步通信,独立部署)是分布式概念的跟严格执行SOA到微服务架构的演进过程

  作用：各服务可独立应用，组合服务也可系统应用

### SOA

SOA（Service-Oriented Architecture）代表面向服务的架构，俗称服务化。SOA将应用程序的模块化组件通过定义明确的接口和契约联系起来，接口是采用中立的方式进行定义的，独立于某种语音、硬件和操作系统，通常通过网络通信来完成，但是并不局限于某种网络协议，可以是底层的TCP/IP，可以是应用层的HTTP，也可以是消息队列，甚至可以是约定的某种数据库存储形式。这使得各种各样的模块化组件可以以统一和通用的方式交互

SOA具有如下特点：

- SOA 定义了良好的对外接口，通过网络协议对外提供服务，服务之间表现为松祸合性，松祸合性具有灵活的特点，可以对服务流程进行灵活组装和编排，而不需要对服务本身做改变。
-  组成整个业务流程的每个服务的内部结构和实现在发生改变时，不影响整个流程对外提供服务，只要对外的接口保持不变，则改变服务内部的实现机制对外部来说可以是透明的。
-  SOA 在这一时代的数据通信格式通常为XML ，因为XML 标记定义在大规模、高并发通信过程中，元余的标记会给性能带来极大的影响，所以后来被JSON 所取代。
-  SOA 通过定义标准的对外接口，可以让底层通用服务进行下沉，供多个上层的使用方同时使用，增加了服务的可重用性。
- SOA 可以让企业最大化地使用内部和外部的公共服务，避免重复造轮子，例如：通过SOA 从外部获取时间服务。

SOA 的两个主流实现方式： WebService 和ESB 。

WebService：

<div>
    <image src="../res/img/webservice.png"></image>    
</div>

ESB：

<div>
    <image src="../res/img/ESB.png"></image>
</div>



### CAP理论

- C：数据一致性(consistency)
  - **所有**节点拥有数据的最新版本
- A：可用性(availability)
  - 数据具备高可用性
- P：分区容错性(partition-tolerance)
  - **容忍网络出现分区**，分区之间网络不可达。